import argparse
import requests
import sys
import nmap_parser

def read_file(input_file: str) -> [str]:
    try:
        fp = open(input_file)
        return fp.readlines()
    except:
        print("Error opening file: " + input_file)

def read_stdin() -> str:
    nmap_output = []
    for line in sys.stdin:
        nmap_output.append(line)
    return nmap_output

def main():
    url = "https://services.nvd.nist.gov/rest/json/cves/2.0"

    args_parser = argparse.ArgumentParser()
    args_parser.add_argument("-i", "--input", help="read from input file", type=str)
    
    args = args_parser.parse_args()
    
    if args.input != None: 
        print(read_file(args.input));
    else: 
        print(read_stdin())
    
    ### request CVE api
    # res = requests.get(url).json()
    # print(res)

if __name__ == "__main__":
    main()
