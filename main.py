import argparse
import sys
import generator

def read_file(input_file: str) -> list[str]:
    try:
        fp = open(input_file)
        return fp.readlines()
    except:
        print("Error opening file: " + input_file)
        return [""]

def read_stdin() -> list[str]:
    nmap_output: list[str] = []
    for line in sys.stdin:
        nmap_output.append(str(line))
    return nmap_output

def get_services(input: list[str]) -> list[str]:
    return []

def main():
    # url = "https://services.nvd.nist.gov/rest/json/cves/2.0"

    args_parser = argparse.ArgumentParser()
    args_parser.add_argument("-i", "--input", help="read from input file", type=str)

    args = args_parser.parse_args()

    if args.input is not None:
        print(read_file(args.input))
    else:
        print(read_stdin())

    ### request CVE api
    # res = requests.get(url).json()
    # print(res)

if __name__ == "__main__":
    main()
